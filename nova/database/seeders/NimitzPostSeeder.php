<?php

declare(strict_types=1);

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use Nova\Posts\Actions\CreateRootPost;
use Nova\Posts\Models\Post;
use Nova\Stories\Models\Story;

class NimitzPostSeeder extends Seeder
{
    public function run()
    {
        $this->seedToBoldlyGoPosts();
    }

    protected function seedToBoldlyGoPosts()
    {
        $story = Story::where('title', 'To Boldly Go')->first();

        $rootPost = CreateRootPost::run($story);

        $post = Post::factory()->published()->post()->create([
            'story_id' => $story->id,
            'title' => 'Dropping the Hammer',
            'location' => 'Beta Antares Shipyard',
            'day' => 'Day 1',
            'time' => '1330 hours',
            'content' => "<p>Alex Diaz stormed through the corridors of the main Beta Antares facility with a small PADD in hand. The look on his face was one of determination and rage. People who were in his way quickly jumped out of the way as he snaked his way through the corridors to a set of glass double doors at the end of the hall. He didn't even ring the chime, he simply entered the room and began bitching even as the doors slid closed.</p><p>\"This is Starfleet administrative bullshit!\" Miami Diaz bellowed, throwing the PADD on to the desk in front of him. A Lieutenant Commander in red sat on the other side of the table immediately inside the room. The officer folded his arms in annoyance and rolled his eyes as the newly minted captain continued his rant. \"Time and time again I've been passed over for command and promotion and when you finally get off your ass and do it, the first order I get is to bring her in for an 18 month refit. It's bullshit. You knew about this and you're a piece of shit for doing it,\" Diaz said, rotating his head to the far side of the room.</p><p>The officer on the other side of the table raised his hands quickly. \"Watch it, captain, you're talking to a ranking member of Starfleet Command! I will bust your ass back down to ensign.\"</p><p>\"It's fine, Commander,\" Will Reardon (NPC) replied. \"The captain has every right to be upset about this.\"</p><p>\"You're damned right I do!\" Diaz continued. \"And now I have to sit around with my thumb up my ass for the next 18 months, meanwhile, my entire crew is probably going to request transfers so they don't have to sit at home for the whole time. Congratulations, you've screwed me for the last time.\" Diaz snatched his comm badge off his chest and tossed it onto the desk in front of the admiral. \"As far as I'm concerned you can go screw yourselves.\"</p><p>\"Commander, why don't you leave the captain and I alone for a few minutes.\" The officer hesitated for a moment before scampering out of the room and leaving the admiral and captain alone. Reardon stood from his chair and stared down at the comm badge sitting on the glossy black surface of his desk. Will snatched the comm badge off the desk and threw it across the room to Diaz. \"Don't be an idiot.\"</p><p>\"You think I'm joking here, but I'm not.\"</p><p>\"Shut up and listen,\" Reardon snapped. \"No one expects you to sit around for 18 months. A few days ago, one of our ships near the Cardassian border was destroyed. Besides having to deal with diplomats and figure out what the hell actually happened, it threw us into a lurch because the CO of the vessel was scheduled to take command of a new vessel. When that happened, we had to scurry to find a replacement for him and in the end, I moved up the refit schedule for the Nimitz so you could be given the assignment. So I think it'd be best if you took your head out of your ass and listened.\"</p><p>Miami looked down at the comm badge for a moment before slapping it back on his chest. \"I'm listening.\"</p><p>\"Report to Cellis Station immediately. You'll be briefed when you arrive,\" he said dryly.</p><p>\"That's it? Listen up, go to Cellis Station?\" Miami said with a smirk.</p><p>\"It's not my fault you have a short attention span, Captain,\" the admiral retorted. Reardon pushed a PADD across the desk toward the man and dropped down in to the chair again.</p><p>Miami opened his mouth to respond but decided against it. \"I've never even heard of Cellis station,\" he said, grabbing the PADD off the desk.</p><p>\"Then we're doing something right,\" the admiral quipped. He moved on as quickly as he'd joked. \"There's a shuttle with your name on it in bay 8. Get down there and get to Cellis so we can get things moving. Once you've been briefed, you'll be able to select the staff you want to take with you, but not everyone will be able to go. In the meantime, I've had all personnel requests associated with the Nimitz frozen until you've made your selections. When this assignment is over, you'll return to the Nimitz and go on your merry way.\"</p><p>Miami nodded slowly. \"Don't screw me on this one,\" Diaz warned, jabbing his finger into Reardon's face. The admiral looked straight at the finger then back at Diaz. Miami pulled his hand away. \"Sorry.\"</p><p>\"Go,\" Reardon said, motioning with his head, \"before I change my mind.\"</p><p>\"Yessir.\"</p>"
        ]);
        $post->appendToNode($rootPost)->save();

        $post = Post::factory()->published()->post()->create([
            'story_id' => $story->id,
            'title' => 'Trek to the Middle of Nowhere',
            'location' => 'Cellis Station',
            'day' => 'Day 1',
            'time' => '2100 hours',
            'content' => "<p>The heavy airlock doors slid apart slowly to reveal the interior to Cellis. It looked like every other Starfleet facility that Miami had ever been in over the length of his career. When the doors had finally cycled completely open, he stepped over the threshold and into the station. One thing did strike him immediately: the complete lack of security at the airlock. It was quizzical to be sure, but given how out of the way the station was, it wasn't entirely surprising. At the bottom of the handful of steps, Miami noticed a man round the corner toward him.</p><p>In a stoic tone, the man broke the silence. \"Welcome to Cellis, Captain Diaz. Ms. Tal is expecting you. Please follow me this way.\" Without even waiting for confirmation, the man turned and began walking the way he'd come with the Starfleet captain having to take a few long steps to catch up.</p><p>\"Whoa man, how about a name?\"</p><p>\"My name is Bryce, sir,\" the man replied without an ounce of emotion.</p><p>\"Nice to meet you Bryce,\" Diaz said as they moved through the mostly empty corridors. \"So do you have any idea why Tal called me all the way out here?\" Miami asked as he tried to peak into the frosted windows on either side of the corridor they'd just entered.</p><p>\"I am afraid Ms. Tal does not share that kind of information with me, Captain.\"</p><p>\"That makes two of us,\" he said with a smirk. \"So how do you like your posting? Seems really far out of the way,\" Miami said as they continued their trek through the corridors.</p><p>\"I have no opinion on my location, sir.\"</p><p>Miami nodded quickly. \"You're one of those 'I don't care where they send me' guys, huh?\"</p><p>Bryce hesitated for a moment. \"I do not understand, sir.\"</p><p>Miami looked at Bryce with a perplexed expression. \"What do you mean you don't understand?\"</p><p>\"I do not understand, sir,\" Bryce repeated as they entered a wide open promenade with another level hanging several meters above their heads. Miami stopped and looked at Bryce again.</p><p>\"Wait, go back, I'm still stuck on the whole I don't understand thing. How can you not understand a simple question?\" Miami said, peaking at the man's empty collar hoping to find a rank.</p><p>\"Because he isn't real,\" Tal Feryn called out from the upper level. Both Bryce and Miami tilted their heads back to see the Bajoran woman above.</p><p>\"I beg your pardon?\" Diaz called out.</p><p>\"He isn't real,\" she repeated, \"he's the station's artificial intelligence avatar.\"</p><p>\"Ava-what?\" Miami asked with a surprised look on his face.</p><p>\"You're talking to a computer, Miami,\" Tal said with a smirk. \"C'mon up, the lift is over here,\" she said pointing to the other side of the cavernous room. Miami stared at Bryce for a few moments before slowly moving toward the lift. Even as the lift took him to the upper level, he watched Bryce walk out of the promenade in disbelief. When the lift came to a stop, Diaz was still watching Bryce.</p><p>\"You sent a hologram to meet me?\"</p><p>Tal rolled her eyes. \"C'mon.\"</p><p>The duo started to move toward a door on the far side of the room. \"So this place is way the hell out here.\"</p><p>Feryn nodded. \"Privacy is a premium. We're in the unique position here of being deep enough inside Federation space that the extreme range sensor arrays from the major quadrant powers can't peek in on us. It gives us some freedom to work on things without prying eyes.\"</p><p>\"And what are you working on that's so sensitive?\"</p><p>Tal smiled as they reached the door and punched in her access code. The door opened and they stepped inside the turbolift and it started to move deeper into the station.</p><p>\"That's not an answer, Tal. What are you guys working on here and why does it concern me? I was told to report here immediately for an assignment the admiral wouldn't tell me about. So spill, what's going on here that I've been volunteered for?\"</p><p>Feryn smiled again, enjoying torturing the Nimitz's new CO. They rode the turbolift in silence for a few minutes before the lift came to a stop and prompted Tal for her access code again. After providing it, the doors parted to a long, narrow corridor. Tal led the way down the bare corridor to another door. A third access code granted them entrance to a room with glossy black walls and chrome support structures running up the walls. Once the doors had closed behind them, Tal offered a final access code (all of which had been different as far as Diaz could tell) and the black walls faded away to reveal the duo standing in a glass observation lounge that overlooked a cavernous internal drydock. Miami's jaw hit the floor at what he saw.</p><p>TO BE CONTINUED...</p>"
        ]);
        $post->appendToNode($rootPost)->save();

        $post = Post::factory()->published()->post()->create([
            'story_id' => $story->id,
            'title' => 'The USS Sojourner',
            'location' => 'Cellis Station',
            'day' => 'Day 1',
            'time' => '2130 hours',
            'content' => "<p>Looking out over the internal drydock, Miami was speechless at the beauty of a ship staring back at them.</p><p>A unique arrowhead saucer sliced through the bay with a look that seemed familiar but still looked completely foreign. The words USS SOJOURNER were emblazoned across the hull as sparks flew from work being done on the hull near the registry. The curves sweeping back from observation lounge were like nothing he'd seen Starfleet do before. Tal shuffled to the side of the room and used some controls to release docking clamps. Miami braced himself against the glass as he realized it wasn't a room but a shuttlepod. The pod inched closer to the ship and began to descend under the saucer. Diaz couldn't take his eyes off the ship.</p><p>Peeking under the saucer, the first thing Miami noticed was the unique deflector array that wrapped around to the sides of the engineering hull and glowed with an bright bluish-white color. The nacelles were swept back beneath the engineering hull and seemed to be lacking some of the traditional stylings used by Starfleet vessels, most notably the glowing red bussard collectors. As the pod moved down the length of the ship, Miami took in everything he could. There wasn't a single angle on the vessel; every place where there'd be a traditional angle had been rounded out into a sleek curve.</p><p>The small pod swung around the aft of the vessel and descended toward the shuttlebay deck that was already open. Tal carefully guided the small inspection/observation pod into the shuttlebay and set it down carefully on the deck. Once everything was secured, the rear doors slid open and Feryn motioned for the captain to lead the way out. The shuttlebay looked like most Starfleet shuttlebays with areas on either side of the room recessed into the floor for storing the shuttles as well as platforms above on either side where two Razor fighters were held. The duo moved around the pod and deeper into the vessel.</p><p>\"I've never seen anything like this, not even conceptually,\" Miami said in disbelief. \"It's incredible.\"</p><p>\"The Sojourner is a testbed for new technology. This ship has the next generation sensor platform that makes the Luna sensor system look like child's play. Longer ranges, better resolutions and a smaller power footprint as well as dedicated subsystems in the computer core for handling all the data collected. Higher throughput allows us to collect an incredible amount of data even when traveling at faster than sublight speeds,\" Tal said, seeming to take pride in every nut and bolt she was describing.</p><p>Tal and Miami moved through the bay doors into the corridor and hung a left, starting to make their way into the ship. \"The computer systems on this ship are the bleeding edge. No other Starfleet vessel has anything remotely close to this. We have a new computer core that integrates even more bio-neural components. Instead of just supplementing the core, these bio-neural components are tied into the central core systems. We're seeing response times faster by several factors. We've also added a secondary core used entirely for the navigation systems, much like the Nimitz uses for tactical purposes.\"</p><p>\"Navigational systems don't take that much processing power,\" Miami pointed out as the moved deeper into the Sojourner.</p><p>Tal hesitated for a moment. \"This one does.\" Tal motioned for them to enter a turbolift and called out directions to take them down a level to deck 5. The trip was short and in moments, the doors had slid apart. Feryn led the way back into the corridor and around a corner to a set of double doors. She paused for a moment and stared at the door before turning her attention to Miami. \"What you're about to see is classified well above top secret. The Federation Council was only briefed on the Sojourner two weeks ago.\"</p><p>\"So I take it you'd appreciate some discretion.\"</p><p>\"At the very least,\" she replied. Tal stepped forward and through the sliding doors to enter Main Engineering. To their right (and toward the aft of the ship) was the Engineer's Office, a glass faced room that sat several steps above the deck and gave the Chief Engineer a complete view of the rest of the level.</p><p>\"What the hell?\" Miami said in disbelief as his eyes shifted to the left to see the 'technology' Tal had been referring to. Instead of the traditional matter/anti-matter intermix chamber rising through the center of the ship, there was only a small cynlindrical column that came to a head about a meter above the deck. Surrounding the column was a glass floor that gave a view down to the lower level where the column started.</p><p>\"Yeah, this is the classified part,\" she said.</p><p>\"What is it?\"</p><p>\"It's called a Quantum Slipstream Drive. Essentially, we manipulate the fabric of the space-time continuum at the quantum level with this by focusing a quantum field through the deflector array to generate massive changes in local space curvature to create a subspace tunnel in front of the vessel. Once the ship gets inside the slipstream, the forces inside push the ship to speeds we couldn't even dream of with a traditional drive.\"</p><p>Miami circled the head of the QSD core. \"How fast?\"</p><p>\"We've gotten her up to 6 lightyears per hour with a reduced power signature, but our estimates put her top speed somewhere around 10,\" Tal explained.</p><p>Miami's head whipped around to face the Bajoran. \"Ten lightyears an hour? How the hell did you guys manage to create this kind of technology like this without anyone knowing?\"</p><p>Feryn hesitated. \"We didn't. This ship isn't actually a Starfleet vessel.\"</p>"
        ]);
        $post->appendToNode($rootPost)->save();
    }
}
